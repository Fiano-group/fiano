{% extends "base.html" %}
{% block content %}
    <div id="wrapper">
        <div id="content-wrapper" class="d-flex flex-column">
            <div id="content">
                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow header">
                    <h1 class="h3 mb-0 text-gray-400 justify-content-center">FIANO</h1>
          
                    <!-- Topbar Navbar -->
                    <ul class="navbar-nav ml-auto">
          
                      <!-- Nav Item - User Information -->
                      <li class="nav-item dropdown no-arrow">
                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="mr-2 d-none d-lg-inline text-gray-900 small">Valerie Luna</span>
                          <img class="img-profile rounded-circle" src="https://source.unsplash.com/QAB-WJcbgJk/60x60">
                        </a>
                        <!-- Dropdown - User Information -->
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                          <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                            <!-- <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> -->
                            Salir
                          </a>
                        </div>
                      </li>
                    </ul>
                </nav>
                <div class="container-fluid col-sm-12 col-md-12 col-lg-12 col-xl-12 pt-5 pl-5 pr-5 pb-5 bodycontainer" >
                    <div class="d-sm-flex align-items-center justify-content-center mb-4">
                        <h2 class="h3 mb-0 text-gray-800">Fiber analysis online</h2>
                    </div>
                    <div class="d-sm-flex align-items-center justify-content-center mb-4">
                        <h4 class="h3 mb-0 text-gray-800">Bienvenido {{ id_analysis }} {{ name_analysis }}</h4>
                    </div>
                    <div class="card shadow mb-4">
                        <div class="card-body">
                            <div class="table-responsive">
                                <!-- <table class="d-sm-flex align-items-center justify-content-center" id="dataTable">
                                    <tbody>
                                        <tr>
                                            <td>                
                                                {% if filename %}
                                                    <center><h5>Imagen original</h5></center>
                                                    <img src= {{ filename }} height=250 width=280>
                                                {% endif %}
                                            </td>
                                            <td>
                                                {% if path_thresholding %}
                                                    <center><h5>Umbralización</h5></center> 
                                                    <img src={{ path_thresholding }} height=250 width=280>
                                                {% endif %}
                                            </td>
                                            <td>
                                                {% if path_erosion %}
                                                    <center><h5>Erosión</h5></center>
                                                    <img src={{ path_erosion }} height=250 width=280>
                                                {% endif %}
                                            </td>
                                        </tr>
                                        <br>
                                        <tr>
                                            <td>
                                                {% if path_dilatation %}
                                                    <center><h5>Dilatación</h5></center>
                                                    <img src={{ path_dilatation }} height=250 width=280>
                                                {% endif %} 
                                            </td>
                                            <td>
                                                {% if path_skeleton %}
                                                    <center><h5>Esqueletización</h5></center>
                                                    <img src={{ path_skeleton }} height=250 width=280>
                                                {% endif %}
                                            </td>
                                            <td>
                                                {% if outfilename %}
                                                    <center><h5>Imagen final</h5></center>
                                                    <img src= {{ outfilename }} height=250 width=280>
                                                {% endif %}
                                            </td>
                                        </tr>
                                        <br>
                                        <tr>
                                            <th colspan="3">
                                                {% if path_histogram %}
                                                    <center><h5>Histograma</h5></center>
                                                    <img src={{ path_histogram }} height=563 width=702>
                                                {% endif %}
                                            </th>
                                        </tr>
                                    </tbody>
                                </table> -->

                
                                <form action="/upload" method="POST" enctype="multipart/form-data">
                                    <p>
                                    <label for="image_uploads">Escoge una imagen (.png, .jpg)</label>
                                    <input type="file" id="image_uploads" name="file" accept=".jpg, .jpeg, .png" multiple>
                                    </p>
                                    <p>
                                    <input class="btn btn-primary" type="submit" >
                                    </p>
                                </form>
                                <form action="/process" method="POST">
                                    <button class="btn btn-primary" type="submit">Process</button>
                                </form>


                                <div class="container">
                                  <div class="row">
                                      <div class="col-md-12">
                                          <div id="custCarousel" class="carousel slide" data-ride="carousel" align="center">
                                              <!-- slides -->
                                              <div class="carousel-inner">
                                                  <div class="carousel-item active">
                                                    {% if filename %}
                                                      <img src={{ filename }} height=500 width=700 alt="First slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Imagen original
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if path_thresholding %}
                                                      <img src={{ path_thresholding }} height=500 width=700 alt="Second slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Umbralización
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if path_erosion %}
                                                      <img src={{ path_erosion }} height=500 width=700 alt="Third slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Erosión
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if path_dilatation %}
                                                      <img src={{ path_dilatation }} height=500 width=700 alt="Fourth slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Dilatación
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if path_skeleton %}
                                                      <img src={{ path_skeleton }} height=500 width=700 alt="Fifth slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Esqueletización
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if outfilename %}
                                                      <img src={{ outfilename }} height=500 width=700 alt="Sixth slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Imagen final
                                                      </h4>
                                                    </div>
                                                  </div>
                                                  <div class="carousel-item">
                                                    {% if path_histogram %}
                                                      <img src={{ path_histogram }} height=500 width=700 alt="Seventh slide">
                                                    {% endif %}
                                                    <div class="carousel-caption">
                                                      <h4 class="h3-responsive">
                                                        Histograma
                                                      </h4>
                                                    </div>
                                                  </div>
                                              </div> <!-- Left right --> <a class="carousel-control-prev" href="#custCarousel" data-slide="prev"> <span class="carousel-control-prev-icon"></span> </a> <a class="carousel-control-next" href="#custCarousel" data-slide="next"> <span class="carousel-control-next-icon"></span> </a> <!-- Thumbnails -->
                                              <ol class="carousel-indicators list-inline">
                                                  <li class="list-inline-item active"> <a id="carousel-selector-0" class="selected" data-slide-to="0" data-target="#custCarousel">{% if filename %}<img src={{ filename }} class="img-fluid">{% endif %} </a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-1" data-slide-to="1" data-target="#custCarousel">{% if path_thresholding %}<img src={{ path_thresholding }} class="img-fluid">{% endif %}</a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-2" data-slide-to="2" data-target="#custCarousel">{% if path_erosion %}<img src={{ path_erosion }} class="img-fluid">{% endif %}</a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-2" data-slide-to="3" data-target="#custCarousel">{% if path_dilatation %}<img src={{ path_dilatation }} class="img-fluid">{% endif %}</a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-2" data-slide-to="4" data-target="#custCarousel">{% if path_skeleton %}<img src={{ path_skeleton }} class="img-fluid">{% endif %}</a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-2" data-slide-to="5" data-target="#custCarousel">{% if outfilename %}<img src={{ outfilename }} class="img-fluid">{% endif %}</a> </li>
                                                  <li class="list-inline-item"> <a id="carousel-selector-2" data-slide-to="6" data-target="#custCarousel">{% if path_histogram %}<img src={{ path_histogram  }} class="img-fluid">{% endif %}</a> </li>
                                              </ol>
                                          </div>
                                      </div>
                                  </div>
                                </div>

                            
                            </div>
                        </div>
                    </div>        
                </div>
            </div>  
            <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                  <div class="copyright text-center my-auto">
                    <span>Copyright &copy; FIANO 2021</span>
                  </div>
                </div>
            </footer>
        </div>
    </div> 

    <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">¿Listo para salir?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">×</span>
          </button>
        </div>
        <div class="modal-body">Seleccione "Cerrar sesión", si está listo para finalizar su sesión actual.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
          <a class="btn btn-primary" href="{{ url_for('logout')}}">Cerrar sesión</a>
        </div>
      </div>
    </div>
  </div>

    <!-- Bootstrap core JavaScript-->
    <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
    <script src="{{ url_for('static', filename='vendor/bootstrap/bootstrap.bundle.min.js') }}"></script>

{% endblock %}
